<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Work Hours & Bills Calculator</title>
<style>
  body { font-family: Arial, sans-serif; margin: 10px; background: #f9f9f9; }
  h2 { color: #4CAF50; text-align: center; }
  label { font-weight: bold; margin-top: 10px; display: block; }
  input { margin: 5px 0 15px; padding: 8px; width: 100%; max-width: 250px; box-sizing: border-box; }
  button { padding: 10px 15px; margin: 5px 2px; cursor: pointer; border: none; background: #4CAF50; color: white; font-weight: bold; border-radius: 5px; }
  button:hover { background: #45a049; }
  .table-container { overflow-x:auto; margin-top:20px; }
  table { border-collapse: collapse; width: 100%; min-width: 800px; background: white; }
  th, td { border: 1px solid #ccc; padding: 10px; text-align: center; }
  th { background: #4CAF50; color: white; }
  tfoot { font-weight: bold; background: #eee; }
  ul#billList { padding-left: 15px; }
  .section { margin-top:20px; }
</style>
</head>
<body>

<h2>Work Hours & Bills Calculator</h2>

<p><b>Instructions:</b></p>
<ol>
  <li>Enter your <b>hourly wage</b> and optional <b>tax rate</b> (default 22%).</li>
  <li>Add <b>Bills</b> with a nickname and amount.</li>
  <li>Click <b>Calculate</b> to see hours needed, exact hours, taxes, and savings.</li>
  <li>Click <b>Reset</b> to start over.</li>
</ol>

<div class="section">
  <h3>How Calculations Work</h3>
  <ul>
    <li><b>Exact Hours:</b> Bill Amount ÷ Hourly Wage</li>
    <li><b>Hours Needed:</b> Rounded up to next whole hour using <b>Math.ceil</b></li>
    <li><b>Wages Earned:</b> Hours Needed × Hourly Wage</li>
    <li><b>Earnings Before Tax:</b> Same as Wages Earned</li>
    <li><b>Taxes:</b> Earnings Before Tax × Tax Rate</li>
    <li><b>Amount Paid:</b> The bill amount</li>
    <li><b>Savings:</b> Earnings Before Tax - Taxes - Amount Paid</li>
    <li><b>Totals Row:</b> Sums all bill rows for each column</li>
  </ul>
</div>

<div class="section">
  <label>Hourly Wage ($):</label>
  <input type="number" id="wage" placeholder="e.g. 21">

  <label>Tax Rate (%):</label>
  <input type="number" id="taxRate" placeholder="Default 22" value="22">
</div>

<div class="section">
  <h3>Add Bill</h3>
  <label>Bill Nickname:</label>
  <input type="text" id="billName" placeholder="e.g. Rent">

  <label>Bill Amount ($):</label>
  <input type="number" id="bill" placeholder="e.g. 140">

  <button onclick="addBill()">Add Bill</button>

  <h4>Added Bills:</h4>
  <ul id="billList"></ul>
</div>

<div class="section">
  <button onclick="calculate()">Calculate</button>
  <button onclick="resetCalculator()">Reset</button>
</div>

<div id="result" class="table-container"></div>

<script>
let bills = [];

function addBill() {
  const name = document.getElementById('billName').value.trim();
  const amount = parseFloat(document.getElementById('bill').value);
  if (!name || isNaN(amount) || amount <= 0) {
    alert("Please enter a valid nickname and bill amount.");
    return;
  }
  bills.push({ name, amount });
  document.getElementById('billList').innerHTML = bills.map(b => 
    `<li>${b.name}: $${b.amount.toFixed(2)}</li>`
  ).join("");
  document.getElementById('billName').value = '';
  document.getElementById('bill').value = '';
}

function calculate() {
  const wage = parseFloat(document.getElementById('wage').value);
  const taxRate = parseFloat(document.getElementById('taxRate').value)/100 || 0.22;
  if (isNaN(wage) || wage <= 0) { alert("Please enter a valid wage."); return; }
  if (bills.length === 0) { alert("Please add at least one bill."); return; }

  let table = `
    <table>
      <tr>
        <th>Item</th>
        <th>Bill Amount ($)</th>
        <th>Exact Hours</th>
        <th>Hours Needed</th>
        <th>Wages Earned ($)</th>
        <th>Earnings Before Tax ($)</th>
        <th>Taxes ($)</th>
        <th>Amount Paid ($)</th>
        <th>Savings ($)</th>
      </tr>
  `;

  let totals = { bill:0, exactHours:0, hours:0, wages:0, earnings:0, taxes:0, paid:0, savings:0 };

  bills.forEach(bill => {
    const exactHours = bill.amount / wage; // simplified formula
    const roundedHours = Math.ceil(exactHours); // round up for practical hours
    const wagesEarned = roundedHours * wage;
    const earningsBeforeTax = wagesEarned;
    const taxes = earningsBeforeTax * taxRate;
    const amountPaid = bill.amount;
    const savings = earningsBeforeTax - taxes - amountPaid;

    table += `<tr>
      <td>${bill.name}</td>
      <td>$${bill.amount.toFixed(2)}</td>
      <td>${exactHours.toFixed(2)}</td>
      <td>${roundedHours}</td>
      <td>$${wagesEarned.toFixed(2)}</td>
      <td>$${earningsBeforeTax.toFixed(2)}</td>
      <td>$${taxes.toFixed(2)}</td>
      <td>$${amountPaid.toFixed(2)}</td>
      <td>$${savings.toFixed(2)}</td>
    </tr>`;

    totals.bill += bill.amount;
    totals.exactHours += exactHours;
    totals.hours += roundedHours;
    totals.wages += wagesEarned;
    totals.earnings += earningsBeforeTax;
    totals.taxes += taxes;
    totals.paid += amountPaid;
    totals.savings += savings;
  });

  table += `<tfoot><tr>
    <td><b>Totals</b></td>
    <td>$${totals.bill.toFixed(2)}</td>
    <td>${totals.exactHours.toFixed(2)}</td>
    <td>${totals.hours}</td>
    <td>$${totals.wages.toFixed(2)}</td>
    <td>$${totals.earnings.toFixed(2)}</td>
    <td>$${totals.taxes.toFixed(2)}</td>
    <td>$${totals.paid.toFixed(2)}</td>
    <td>$${totals.savings.toFixed(2)}</td>
  </tr></tfoot></table>`;

  document.getElementById('result').innerHTML = table;
}

function resetCalculator() {
  bills = [];
  document.getElementById('billList').innerHTML = '';
  document.getElementById('result').innerHTML = '';
  document.getElementById('wage').value = '';
  document.getElementById('taxRate').value = 22;
  document.getElementById('billName').value = '';
  document.getElementById('bill').value = '';
}
</script>

<footer style="text-align:center; margin-top:20px; font-size:0.9rem; color:#555;">
  Code by <b>Davi Nevae LLC</b> | <a href="https://www.davinevae.com" target="_blank" style="color:#4CAF50; text-decoration:none;">Visit Our Website</a>
</footer>

</body>
</html>
